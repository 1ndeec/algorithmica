–ü—É—Ç–µ–º –≤ –≥—Ä–∞—Ñ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–µ—Ä—à–∏–Ω $v_i \\in ùëâ$, $i =
1...k$ —Ç–∞–∫–∏—Ö, —á—Ç–æ –¥–≤–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã –≤ –ø—É—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã —Ä–µ–±—Ä–æ–º,
$k$ - –¥–ª–∏–Ω–∞ –ø—É—Ç–∏. –ì—Ä–∞—Ñ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–≤—è–∑–Ω—ã–º, –µ—Å–ª–∏ –¥–ª—è –ª—é–±—ã—Ö –¥–≤—É—Ö –µ–≥–æ
–≤–µ—Ä—à–∏–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—É—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏. –ì—Ä–∞—Ñ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞
–Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è —Å–≤—è–∑–Ω—ã–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –æ–¥–Ω–æ), –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏
—Ä—ë–±–µ—Ä –Ω–µ—Ç, –æ–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

–ü–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É dfs –±—É–¥–µ—Ç –æ–±—Ö–æ–¥–∏—Ç—å —Ç—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å–≤—è–∑–Ω–æ—Å—Ç–∏, –∏–∑ –≤–µ—Ä—à–∏–Ω—ã
–∫–æ—Ç–æ—Ä–æ–π, –æ–Ω –±—ã–ª –≤—ã–∑–≤–∞–Ω. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ
–∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∏–∑ –ª—é–±–æ–π –Ω–µ–ø–æ—Å–µ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã –∏ —Ç–æ–≥–¥–∞ –≤
—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –ø–æ—Å–µ—Ç–∏–º –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –∞ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –Ω–∞–π–¥–µ–º –≤—Å–µ
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

–ì—Ä–∞—Ñ —Å —Ç—Ä–µ–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–≤—è–∑–Ω–æ—Å—Ç–∏ :

<http://lib.vvsu.ru/books/Bakalavr01/obj.files/image726.gif>

``` C++ numberLines
for (int i = 0; i < n; ++i){
    if (!used[i]) {
        amount++;
        dfs(i);
    }
}
```