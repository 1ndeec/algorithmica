## Задача

Дан ориентированный граф $G$, найти все вершины, которые принадлежат
хотя бы одному кратчайшему пути из $s$ в $t$.

## Решение

Запустим из вершины $s$ в графе $G$ BFS — найдём расстояния $d_1$.
Построим транспонированный граф $G^T$ — граф, в котором каждое
ребро заменено на противоположное. Запустим из вершины $t$ в графе
$G^T$ BFS — найдём расстояния $d_2$.

Теперь очевидно, что $v$ принадлежит хотя бы одному кратчайшему пути из
$s$ в $t$ тогда и только тогда, когда $d_1(v) + d_2(v) = d_1(t)$ —
это значит, что есть путь из $s$ в $v$ длины $d_1(v)$, а затем есть
путь из $v$ в $t$ длины $d_2(v)$, и их суммарная длина совпадает с
длиной кратчайшего пути из $s$ в $t$.