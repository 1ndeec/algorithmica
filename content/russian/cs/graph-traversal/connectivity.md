---
title: –ü–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏
authors:
- –ú–∞–∫—Å–∏–º –ò–≤–∞–Ω–æ–≤
weight: 3
---

–î–∞–Ω –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ G —Å n –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∏ m —Ä—ë–±—Ä–∞–º–∏. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤ –Ω—ë–º –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏, —Ç.–µ. —Ä–∞–∑–±–∏—Ç—å –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø —Ç–∞–∫, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ –¥–æ–π—Ç–∏ –æ—Ç –æ–¥–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã –¥–æ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π, –∞ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏ ‚Äî –ø—É—Ç–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è
–î–ª—è —Ä–µ—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –æ–±—Ö–æ–¥–æ–º –≤ –≥–ª—É–±–∏–Ω—É, —Ç–∞–∫ –∏ –æ–±—Ö–æ–¥–æ–º –≤ —à–∏—Ä–∏–Ω—É.

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, –º—ã –±—É–¥–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Å–µ—Ä–∏—é –æ–±—Ö–æ–¥–æ–≤: —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏–º –æ–±—Ö–æ–¥ –∏–∑ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—à–∏–Ω—ã, –∏ –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –ø—Ä–∏ —ç—Ç–æ–º –æ–±–æ—à—ë–ª ‚Äî –æ–±—Ä–∞–∑—É—é—Ç –ø–µ—Ä–≤—É—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å–≤—è–∑–Ω–æ—Å—Ç–∏. –ó–∞—Ç–µ–º –Ω–∞–π–¥—ë–º –ø–µ—Ä–≤—É—é –∏–∑ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –≤–µ—Ä—à–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –±—ã–ª–∏ –ø–æ—Å–µ—â–µ–Ω—ã, –∏ –∑–∞–ø—É—Å—Ç–∏–º –æ–±—Ö–æ–¥ –∏–∑ –Ω–µ—ë, –Ω–∞–π–¥—è —Ç–µ–º —Å–∞–º—ã–º –≤—Ç–æ—Ä—É—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å–≤—è–∑–Ω–æ—Å—Ç–∏. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ, –ø–æ–∫–∞ –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã –Ω–µ —Å—Ç–∞–Ω—É—Ç –ø–æ–º–µ—á–µ–Ω–Ω—ã–º–∏.

–ò—Ç–æ–≥–æ–≤–∞—è –∞—Å–∏–º–ø—Ç–æ—Ç–∏–∫–∞ —Å–æ—Å—Ç–∞–≤–∏—Ç O(n + m): –≤ —Å–∞–º–æ–º –¥–µ–ª–µ, —Ç–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ—Ç –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –≤–µ—Ä—à–∏–Ω—ã –¥–≤–∞–∂–¥—ã, –∞, –∑–Ω–∞—á–∏—Ç, –∫–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ —Ä–æ–≤–Ω–æ –¥–≤–∞ —Ä–∞–∑–∞ (—Å –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ü–∞ –∏ —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ü–∞).

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è
–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á—É—Ç—å –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ö–æ–¥ –≤ –≥–ª—É–±–∏–Ω—É:

int n;
vector<int> g[MAXN];
bool used[MAXN];
vector<int> comp;
 
void dfs (int v) {
	used[v] = true;
	comp.push_back (v);
	for (size_t i=0; i<g[v].size(); ++i) {
		int to = g[v][i];
		if (! used[to])
			dfs (to);
	}
}
 
void find_comps() {
	for (int i=0; i<n; ++i)
		used[i] = false;
	for (int i=0; i<n; ++i)
		if (! used[i]) {
			comp.clear();
			dfs (i);
 
			cout << "Component:";
			for (size_t j=0; j<comp.size(); ++j)
				cout << ' ' << comp[j];
			cout << endl;
		}
}
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–∑–æ–≤–∞ ‚Äî \rm find\_comps(), –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞.

–ú—ã —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –≥—Ä–∞—Ñ –∑–∞–¥–∞–Ω —Å–ø–∏—Å–∫–∞–º–∏ —Å–º–µ–∂–Ω–æ—Å—Ç–∏, —Ç.–µ. g[i] —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—à–∏–Ω, –≤ –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —Ä—ë–±—Ä–∞ –∏–∑ –≤–µ—Ä—à–∏–Ω—ã i. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–µ \rm MAXN —Å–ª–µ–¥—É–µ—Ç –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–∞–≤–Ω–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–µ—Ä—à–∏–Ω –≤ –≥—Ä–∞—Ñ–µ.

–í–µ–∫—Ç–æ—Ä \rm comp —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—à–∏–Ω –≤ —Ç–µ–∫—É—â–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

---


–ü—É—Ç–µ–º –≤ –≥—Ä–∞—Ñ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–µ—Ä—à–∏–Ω $v_i \\in ùëâ$, $i =
1...k$ —Ç–∞–∫–∏—Ö, —á—Ç–æ –¥–≤–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã –≤ –ø—É—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã —Ä–µ–±—Ä–æ–º,
$k$ - –¥–ª–∏–Ω–∞ –ø—É—Ç–∏. –ì—Ä–∞—Ñ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–≤—è–∑–Ω—ã–º, –µ—Å–ª–∏ –¥–ª—è –ª—é–±—ã—Ö –¥–≤—É—Ö –µ–≥–æ
–≤–µ—Ä—à–∏–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—É—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏. –ì—Ä–∞—Ñ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞
–Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è —Å–≤—è–∑–Ω—ã–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –æ–¥–Ω–æ), –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏
—Ä—ë–±–µ—Ä –Ω–µ—Ç, –æ–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

–ü–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É dfs –±—É–¥–µ—Ç –æ–±—Ö–æ–¥–∏—Ç—å —Ç—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å–≤—è–∑–Ω–æ—Å—Ç–∏, –∏–∑ –≤–µ—Ä—à–∏–Ω—ã
–∫–æ—Ç–æ—Ä–æ–π, –æ–Ω –±—ã–ª –≤—ã–∑–≤–∞–Ω. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ
–∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∏–∑ –ª—é–±–æ–π –Ω–µ–ø–æ—Å–µ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã –∏ —Ç–æ–≥–¥–∞ –≤
—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –ø–æ—Å–µ—Ç–∏–º –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –∞ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –Ω–∞–π–¥–µ–º –≤—Å–µ
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏.

–ì—Ä–∞—Ñ —Å —Ç—Ä–µ–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–≤—è–∑–Ω–æ—Å—Ç–∏ :

<http://lib.vvsu.ru/books/Bakalavr01/obj.files/image726.gif>

``` C++ numberLines
for (int i = 0; i < n; ++i){
    if (!used[i]) {
        amount++;
        dfs(i);
    }
}
```