Циклом в графе $G$ называется ненулевой путь, ведущий из вершины $v$ в
саму себя. Граф называют ацикличным, если в нем нет циклов.

В обычном dfs мы используем два цвета (1 - вершина посещена, 0 - не
посещена), если же нам надо найти цикл, то давайте хранить 3 цвета:

  - 0 - вершина не просмотрена
  - 1 - мы входили DFS-ом в эту вершину, но еще не вышли (а значит из
    нее есть путь до текущей),
  - 2 - мы входили DFS-ом в эту вершину

Заметим, что цикл будет тогда и только тогда, когда мы пытаемся войти в
вершину с цветом 1.

``` C++ numberLines
void dfs (int v) {
    used[v] = 1;
    for (size_t i=0; i < g[v].size(); ++i) {
        int to = g[v][i];
        if (used[to] == 0){
            p[to] = v;
            dfs (to);
        }
        else if (used[to] == 1 && to != p[v]) {
            cycle = true;
        }
    }
    used[v] = 2;
}
```